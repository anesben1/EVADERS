<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core">

<h:body>
    <ui:composition template="../layout.xhtml">
        <ui:define name="title">OTDAV - WebSite</ui:define>

      
        <ui:define name="content">
    			
				 <div style="padding: 20px" class="row padding-15px">
			   			 		<h3>
									Liste Evenements
								</h3>
								<h:form>
						        <h:commandButton value="Check Events..." action="#{eventBean.doCheckEvents()}">
						            <f:param id="word" name="word" value="4"/>
						        </h:commandButton>
						    </h:form>
								<h:panelGroup rendered="#{eventBean.allEvents.size() le 0}">
									pas d'évènement
								</h:panelGroup>
							
							   <h:dataTable  rendered="#{eventBean.allEvents.size() gt 0}"  id="example" styleClass="table table-striped table-bordered"
                                                 cellspacing="0" width="100%"
                                                 value="#{eventBean.allEvents}" var="event">

                                        <h:column>
                                            <f:facet name="header">#</f:facet>
                                            #{event.id}
                                        </h:column>
                                        
                                         <h:column>
                                            <f:facet name="header">Nom</f:facet>
                                            #{event.name}
                                        </h:column>
                                        

                                        <h:column>
                                            <f:facet name="header">Date</f:facet>
                                            #{event.date.toString()	}
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">Place Disponible</f:facet>
                                            #{event.places}
                                        </h:column>
                                         <h:column>
                                            <f:facet name="header">Activé</f:facet>
										     #{event.enabled}
                                            </h:column>
                                        
                                         <h:column>
                                            <f:facet name="header">Action</f:facet>
                                            <h:form>
                                          		  <h:commandLink action="#{eventBean.setActiveEvent(event)}" value="#{eventBean.getStatusAction(event)}" />
                                            </h:form>
                                            
                                        </h:column>
                                         <h:column>
                                            <f:facet name="header">Supression</f:facet>
                                            <h:form>
                                          		  <h:commandLink action="#{eventBean.deleteEvent(event)}" value="Supprimer" />
                                            </h:form>
                                            
                                        </h:column>

                                     
                                    </h:dataTable>
							
						</div>	
        </ui:define>

      

    </ui:composition>
</h:body>

</html>